<h2 class="user-title">Food Recommendations</h2>

<!-- Selected Diseases Section -->
<div class="selected-section" *ngIf="selectedDiseases.length > 0">
  <h4 class="section-title">Selected Health Conditions</h4>

  <div class="selected-diseases">
    <span class="disease-chip" *ngFor="let d of selectedDiseases">
      {{ d.diseaseName }}
    </span>
  </div>
</div>

<!-- Empty State -->
<div *ngIf="recommendations.length === 0" class="empty">
  No recommendations available.
</div>

<!-- Recommendation Cards -->
<div class="card-grid">
  <div
    class="food-card"
    *ngFor="let r of recommendations"
    [ngClass]="r.impact.toLowerCase()"
  >
    <div class="card-header">
      <h3>{{ r.foodName }}</h3>

      <span class="impact-badge {{ r.impact.toLowerCase() }}">
        {{ r.impact }}
      </span>
    </div>

   <!-- Normal Explanation -->
<ul class="explanation">
  <li *ngFor="let line of formatExplanation(r.explanation)">
    {{ line }}
  </li>
</ul>

<!-- Benefits -->
<div
  class="benefits-box"
  *ngIf="extractBenefits(r.explanation).length > 0"
>
  <strong>Benefits</strong>
  <ul>
    <li *ngFor="let b of extractBenefits(r.explanation)">
      {{ b }}
    </li>
  </ul>
</div>

<!-- Warnings -->
<div
  class="warnings-box"
  *ngIf="extractWarnings(r.explanation).length > 0"
>
  <strong>Warnings</strong>
  <ul>
    <li *ngFor="let w of extractWarnings(r.explanation)">
      {{ w }}
    </li>
  </ul>
</div>

    <div *ngIf="r.autoLimited" class="auto-warning">
      ⚠ Auto-limited due to food category risk
    </div>
  </div>
</div>

<button class="back-btn" (click)="goBack()">
  ← Modify Disease Selection
</button>
